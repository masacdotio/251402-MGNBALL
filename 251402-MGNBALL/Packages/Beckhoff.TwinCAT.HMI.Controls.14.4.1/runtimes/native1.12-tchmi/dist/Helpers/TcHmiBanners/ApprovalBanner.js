var __runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};import{Banner}from"./Banner.js";let ApprovalBanner=(()=>{var _a;let ___onApproved_decorators,_classSuper=Banner,_instanceExtraInitializers=[];return class extends _classSuper{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(_classSuper[Symbol.metadata]??null):void 0;___onApproved_decorators=[(_a=TcHmi).CallbackMethod.bind(_a)],__esDecorate(this,null,___onApproved_decorators,{kind:"method",name:"__onApproved",static:!1,private:!1,access:{has:obj=>"__onApproved"in obj,get:obj=>obj.__onApproved},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}__parentControl=__runInitializers(this,_instanceExtraInitializers);__approveButton;__repetitionCheckbox;__storage;constructor(targetElement,storageId,__parentControl){super(targetElement,__parentControl),this.__parentControl=__parentControl,storageId&&(this.__storage=new TcHmi.LocalStorage(storageId,{}));const approveButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",`${this.__name}.approveButton`,{"data-tchmi-width":60,"data-tchmi-height":30,"data-tchmi-is-enabled":!0,"data-tchmi-ignore-escape-sequences":!0},this.__parentControl),repetitionCheckbox=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiCheckbox",`${this.__name}.rememberChoiceCheckbox`,{"data-tchmi-height":30,"data-tchmi-is-enabled":!0,"data-tchmi-ignore-escape-sequences":!0},this.__parentControl);if(!approveButton||!repetitionCheckbox)throw new Error("Could not create controls for ApprovalBanner.");this.__storage&&(this.__elementFooter.appendChild(repetitionCheckbox.getElement()[0]),repetitionCheckbox.getElement()[0].style.gridColumn="1"),this.__elementFooter.appendChild(approveButton.getElement()[0]),approveButton.getElement()[0].style.gridColumn="2",this.__destroyers.push(TcHmi.EventProvider.register(approveButton.getId()+".onPressed",this.__onApproved)),this.__approveButton=approveButton,this.__repetitionCheckbox=repetitionCheckbox}show(){!0!==this.__storage?.get("dontShowAgain")&&super.show()}__onApproved(){if(this.__parentControl){if(!this.__parentControl.getIsEnabled())return;if(!TcHmi.Access.checkAccess(this.__parentControl,"operate"))return}this.__storage&&this.__repetitionCheckbox&&this.__storage.set("dontShowAgain","Active"===this.__repetitionCheckbox.getToggleState()),this.hide()}setTexts(texts){super.setTexts(texts),void 0!==texts.buttonText&&null!==texts.buttonText&&("string"==typeof texts.buttonText?(this.__unwatchLocalization("buttonText"),TcHmi.Symbol.isSymbolExpression(texts.buttonText)?TcHmi.Binding.createEx2(texts.buttonText,"Text",this.__approveButton):this.__approveButton.setText(texts.buttonText)):(TcHmi.Binding.removeEx2(null,"Text",this.__approveButton),this.__watchLocalization("buttonText",texts.buttonText,text=>this.__approveButton.setText(text)))),void 0!==texts.checkboxText&&null!==texts.checkboxText&&("string"==typeof texts.checkboxText?(this.__unwatchLocalization("checkboxText"),TcHmi.Symbol.isSymbolExpression(texts.checkboxText)?TcHmi.Binding.createEx2(texts.checkboxText,"Text",this.__repetitionCheckbox):this.__repetitionCheckbox.setText(texts.checkboxText)):(TcHmi.Binding.removeEx2(null,"Text",this.__repetitionCheckbox),this.__watchLocalization("checkboxText",texts.checkboxText,text=>this.__repetitionCheckbox.setText(text))))}}})();export{ApprovalBanner};TcHmi.Controls.Helpers??={},TcHmi.Controls.Helpers.ApprovalBanner=ApprovalBanner;