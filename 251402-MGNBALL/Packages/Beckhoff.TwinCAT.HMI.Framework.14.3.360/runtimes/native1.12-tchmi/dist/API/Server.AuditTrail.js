import*as Server from"./Server.js";import*as Events from"./Server.Events.js";export function createAuditLogEntry(entry,callback){createAuditLogEntryEx(entry,null,callback)}export function createAuditLogEntryEx(entry,options,callback){if(!entry)return void TcHmi.Callback.callSafeEx(callback,null,{error:TcHmi.Errors.E_PARAMETER_INVALID,details:{code:TcHmi.Errors.E_PARAMETER_INVALID,message:TcHmi.Errors[TcHmi.Errors.E_PARAMETER_INVALID],reason:'Parameter: "entry" must not be empty or undefined or null.',domain:"TcHmi.Server.AuditTrail"}});let requestOptions=options?.requestOptions??null;Server.requestEx({requestType:"ReadWrite",commands:[{symbol:"CreateEvent",version:2,writeValue:{name:"AuditLogEntry",domain:"TcHmiAuditTrail",payloadType:Events.Type.Payload,payload:{name:entry.name,contextDomain:entry.contextDomain??"TcHmiFramework",comment:entry.comment??"",data:entry.data}}}]},requestOptions,Server.handleResponse({success:()=>{TcHmi.Callback.callSafeEx(callback,null,{error:TcHmi.Errors.NONE})},error:data=>{if(data.error===TcHmi.Errors.NONE&&data.results){let res=data.results[0];TcHmi.Callback.callSafeEx(callback,null,res)}else{let res={error:data.error};data.details&&(res.details=data.details),TcHmi.Callback.callSafeEx(callback,null,res)}}}))}TcHmi.Server??={},TcHmi.Server.AuditTrail={createAuditLogEntry,createAuditLogEntryEx};