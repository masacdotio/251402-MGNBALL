export class Exception extends Error{__details;constructor(detailsOrCode,reason,domain,exceptionOrErrors,errors){const message=("object"==typeof detailsOrCode?TcHmi.Errors[detailsOrCode.code]??detailsOrCode.message:TcHmi.Errors[detailsOrCode])??TcHmi.Errors[TcHmi.Errors.ERROR];super("object"==typeof detailsOrCode?detailsOrCode.reason??message:reason??message),super.message=message,Object.defineProperty(this,"message",{writable:!1}),this.__details="object"==typeof detailsOrCode?{...detailsOrCode,message}:{code:detailsOrCode,message,reason,domain,exception:exceptionOrErrors instanceof Error?exceptionOrErrors:void 0,errors:exceptionOrErrors instanceof Error?errors:exceptionOrErrors}}get code(){return this.__details.code}get message(){return this.__details.message}get reason(){return this.__details.reason}get domain(){return this.__details.domain}get exception(){return this.__details.exception}get errors(){return this.__details.errors}get details(){return this.__details}pushSubErrors(...errors){return this.__details.errors||(this.__details.errors=[]),this.__details.errors.push(...errors)}buildMessage(){return TcHmi.Log.buildMessage(this.__details)}log(callerInfoOrControl,messageOrOrigin,messageOrAdditionalInfo,...optionalParameters){if(TCHMI_CONSOLE_LOG_LEVEL<1&&!TcHmi.Log.Force)return;if(callerInfoOrControl instanceof TcHmi.Controls.System.baseTcHmiControl){const control=callerInfoOrControl,origin=messageOrOrigin,additionalInfo=messageOrAdditionalInfo&&"object"==typeof messageOrAdditionalInfo?messageOrAdditionalInfo:null;optionalParameters=[...optionalParameters];let message=(additionalInfo?optionalParameters.shift():messageOrAdditionalInfo)??"";return message=`${message?message+" ":""}${this.buildMessage()}`,void(additionalInfo?TcHmi.Log.Controls.error(control,origin,additionalInfo,message,...optionalParameters):TcHmi.Log.Controls.error(control,origin,message,...optionalParameters))}const callerInfo={...callerInfoOrControl},message=messageOrOrigin;"Control"===callerInfo.Source&&callerInfo.Module===callerInfo.Origin&&delete callerInfo.Origin,TcHmi.Log.errorEx(`[${Array.from(Object.entries(callerInfo)).map(([name,info])=>`${name}=${info}`).join(", ")}] ${message?message+" ":""}${this.buildMessage()}`)}}TcHmi.Exception=Exception;