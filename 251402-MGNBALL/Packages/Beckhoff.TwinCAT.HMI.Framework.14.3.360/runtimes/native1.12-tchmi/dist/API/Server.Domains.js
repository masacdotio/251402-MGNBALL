export function watch(name,callback){let destroy,s=new TcHmi.Symbol("%s%ListDomains|SubscriptionMode=Change%/s%");return destroy=s.watchEx(null,data=>{destroy||(destroy=data.destroy),data&&data.error===TcHmi.Errors.NONE?data.value&&data.value[name]?TcHmi.Callback.callSafeEx(callback,null,{error:TcHmi.Errors.NONE,value:tchmi_clone_object(data.value[name]),destroy}):TcHmi.Callback.callSafeEx(callback,null,{error:TcHmi.Errors.E_SERVER_DOMAIN_UNKNOWN,details:{code:TcHmi.Errors.E_SERVER_DOMAIN_UNKNOWN,message:TcHmi.Errors[TcHmi.Errors.E_SERVER_DOMAIN_UNKNOWN],reason:"Domain is unknown!",domain:"TcHmi.Server.Domains",errors:data.details?[data.details]:void 0}}):TcHmi.Callback.callSafeEx(callback,null,{error:data.error,details:data.details})}),()=>{destroy&&(destroy(),destroy=void 0),s?.destroy(),s=null}}TcHmi.Server??={},TcHmi.Server.Domains={watch};