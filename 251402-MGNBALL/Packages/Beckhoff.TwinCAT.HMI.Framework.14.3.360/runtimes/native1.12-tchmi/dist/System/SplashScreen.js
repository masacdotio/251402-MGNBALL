import{isInitialized}from"./System.js";import{viewManager}from"./ViewManager.js";import{Log}from"../API/Log.js";export class SplashScreen{constructor(){let tempDivSplashScreenContainer=document.createElement("div");tempDivSplashScreenContainer.innerHTML='<div id="tchmi-splash-container">\n            <div class="tchmi-splash-content-container">\n                <div class="tchmi-splash-stage-progress-container"><div class="tchmi-splash-stage-progress"></div></div>\n                <div class="tchmi-splash-stage-info">Loading...</div>\n                <div class="tchmi-splash-version-info"></div>\n            </div>\n        </div>',this.__elementSplashScreenContainer=tempDivSplashScreenContainer.firstElementChild,this.__elementSplashScreenContainer?(this.__elementSplashScreenContainer.remove(),this.__elementSplashProgress=this.__elementSplashScreenContainer.querySelector(".tchmi-splash-stage-progress"),this.__elementSplashInfo=this.__elementSplashScreenContainer.querySelector(".tchmi-splash-stage-info"),this.__elementVersionInfo=this.__elementSplashScreenContainer.querySelector(".tchmi-splash-version-info")):Log.error("[Source=Framework, Module=TcHmi.System.SplashScreen] Internal error. Did not find tchmi-splash-container element.")}__elementSplashScreenContainer;__elementSplashProgress;__elementSplashInfo;__elementVersionInfo;__forcedHideSplash=!1;disableSplash(){this.__forcedHideSplash=!0,this.hide()}__isVisible=!1;isVisible(){return this.__isVisible}updateVersionInfo(message){this.__elementVersionInfo&&(this.__elementVersionInfo.textContent=message)}updateStageInfo(message){this.__elementSplashInfo&&(this.__elementSplashInfo.textContent=message)}updateStageProgress(progress){this.__elementSplashProgress&&(this.__elementSplashProgress.style.width=progress.toString()+"%")}show(){this.__isVisible||isInitialized||this.__forcedHideSplash||(viewManager.addViewportElement(this.__elementSplashScreenContainer,{name:"splash",area:"main"}),this.__isVisible=!0,TcHmi.EventProvider.raise("System.onSplashScreenShow"))}hide(){this.__isVisible&&(viewManager.removeViewportElement(this.__elementSplashScreenContainer),this.__isVisible=!1,TcHmi.EventProvider.raise("System.onSplashScreenHide"))}}export const splashScreen=new SplashScreen;